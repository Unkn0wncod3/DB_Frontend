<section class="intro">
  <h1>{{ 'apiExplorer.title' | translate }}</h1>
  <p>{{ 'apiExplorer.baseUrl' | translate }} <code>{{ baseUrl }}</code></p>
  <p>{{ 'apiExplorer.intro' | translate }}</p>
</section>

<form class="api-form" [formGroup]="form" (ngSubmit)="submit()">
  <div class="field">
    <label for="method">{{ 'apiExplorer.form.methodLabel' | translate }}</label>
    <select id="method" formControlName="method">
      <option *ngFor="let method of methods" [value]="method">{{ method }}</option>
    </select>
  </div>

  <div class="field">
    <label for="endpoint">{{ 'apiExplorer.form.endpointLabel' | translate }}</label>
    <input
      id="endpoint"
      type="text"
      formControlName="endpoint"
      [placeholder]="'apiExplorer.form.endpointPlaceholder' | translate"
    />
    <small>{{ 'apiExplorer.form.endpointHint' | translate }}</small>
  </div>

  <div class="field" *ngIf="requiresBody()">
    <label for="body">{{ 'apiExplorer.form.bodyLabel' | translate }}</label>
    <textarea
      id="body"
      rows="6"
      formControlName="body"
      [placeholder]="'apiExplorer.form.bodyPlaceholder' | translate"
    ></textarea>
  </div>

  <div class="field">
    <label for="headers">{{ 'apiExplorer.form.headersLabel' | translate }}</label>
    <textarea
      id="headers"
      rows="4"
      formControlName="headers"
      [placeholder]="'apiExplorer.form.headersPlaceholder' | translate"
    ></textarea>
  </div>

  <button type="submit" [disabled]="isLoading()">{{ 'apiExplorer.form.submit' | translate }}</button>
</form>

<section *ngIf="isLoading()" class="status status--info">
  <p>{{ 'apiExplorer.status.loading' | translate }}</p>
</section>

<section *ngIf="error()" class="status status--error">
  <h2>{{ 'apiExplorer.status.errorTitle' | translate }}</h2>
  <p>{{ error() }}</p>
</section>

<section *ngIf="response() !== null && !error()" class="status status--success">
  <h2>{{ 'apiExplorer.status.successTitle' | translate }}</h2>
  <pre><code>{{ response() | json }}</code></pre>
</section>

